"use strict";function findEmptyCell(){return!1}function isPlayer(n){return n&&n.id&&n.name&&n.x&&n.y}function pointInBox(n,t){return n.x>t.x&&n.x<t.x+t.width&&n.y>t.y&&n.y<t.y+t.height}function Point(n,t){this.x=n;this.y=t}var idgen=require("shortid"),players;module.exports.Button=function(n,t,i,r){this.x=n;this.y=t;this.width=i|100;this.height=r|100};players=1;module.exports.Scene=function(n,t,i){this.width=n;this.height=t;this.button=i;this.players=[];this.getPlayerByID=function(n){for(var t=0;t<players.length;t++)if(players[t].id==n)return players[t]};this.addPlayer=function(n){if(isPlayer(n)){for(var t=0;t<players.length;t++)if(players[t].id==n.id)return!1;return players.push(n),!0}};this.onClick=function(n,t){if(isPlayer(n)&&pointInBox(new Point(n.x,n.y),i)){var r=findEmptyCell();r?(i.x=r.x,i.y=r.y,t("button-move",i)):t("button-shrink",i)}};this.removePlayer=function(n){for(var t=0;t<players.length;t++)players[t].id==n&&players.splice(t)}};module.exports.isPlayer=isPlayer;module.exports.Player=function(n,t,i,r){this.id=n|idgen.generate();this.name=r|"player"+players;this.x=t|0;this.y=i|0;players++};